<p align="middle" >
  <img width="200px;" src="https://github.com/woowacourse/javascript-vendingmachine-precourse/blob/main/images/beverage_icon.png?raw=true"/>
</p>
<h1 align="middle">자판기</h1>

---

## 구현할 기능 목록

![vendingMachine](https://user-images.githubusercontent.com/61308364/145956416-7547dc0f-9968-4957-b213-00328d532e22.png)

> App 객체가 생성되면 상위 타이틀과 탭 버튼을 담당하는 뷰를 렌더링하고, 각 컴포넌트 객체를 생성한다. 탭 버튼 클릭 시 해당하는 뷰를 하위 html태그에 렌더링한다.

---

### 1) 공통

**상단 `타이틀`과 `탭 버튼`을 클릭하여 화면을 변환할 수 있다.**

- 상단 뷰에 들어갈 텍스트와 버튼의 정보를 저장한다.
- 저장된 정보들을 이용하여 타이틀과 버튼 HTML을 작성한다.
- 해당 템플릿을 렌더링한다.
- 탭 버튼이 클릭 되었을 때 해당하는 컴포넌트의 뷰를 렌더링한다.

**Utils**

- Local Storage에서 데이터를 불러오거나, 저장할 때 사용할 메소드들을 저장한다.
  > 로컬 저장소 데이터에 접근할 key들과 메소드를 같이 관리한다.
- 입력값의 유효성을 검사하는 메소드들을 저장한다.
- 에러 메세지, 상수들을 저장한다.
- 전반적으로 자주 사용되는 메소드들을 저장한다.

---

### 2) 상품 관리

**`상품명`, `가격`, `수량`을 입력받아 로컬 저장소에 저장한다.**

- 뷰에 들어갈 정보를 저장한다.
- 정보를 이용하여 HTML template을 작성한다.
- 로컬 저장소에 상품 리스트 데이터로 테이블을 작성한다.
- 해당 템플릿을 렌더링한다.
- 버튼을 클릭하여 상품 정보를 저장할 수 있다.
  > 1.  입력된 텍스트들이 조건에 만족하는지 검사한다.
  > 2.  입력된 상품 정보를 로컬 저장소에 저장한다.
  > 3.  상품 리스트 테이블을 갱신한다.

**예외 상황**

> 예외 상황에 경우 alert를 통해 메세지를 전달한다.

- 입력값이 없는 경우
- 가격이 1단위일 경우
- 가격이 100보다 낮을 경우
- 수량이 1보다 낮을 경우
- 기존의 상품목록에 입력한 정보와 같은 이름의 상품이 존재할 경우
  > 기존 상품과 가격이 동일할 경우 기존 수량에 더한다.  
  > 기존 상품과 가격이 동일하지 않을 경우 새로운 상품으로 등록한다.

---

### 3) 잔돈 충전

**`충전 금액`을 입력하고, `무작위로 생성된 동전`들을 저장한다.**

- 뷰에 들어갈 정보를 저장한다.
- 정보를 이용하여 HTML template을 작성한다.
- 로컬 저장소에 저장된 동전 리스트 데이터로 테이블을 작성한다.
- 해당 템플릿을 렌더링한다.
- 버튼을 클릭하여 입력받은 금액을 저장한다.
  > 1. 유효성 조건을 만족하는지 검사한다.
  > 2. 500, 100, 50, 10 중에서 무작위로 선택한다. (만약, 남은 금액을 넘으면 다시 선택한다.)
  > 3. 충전한 금액이 0이 될때까지 무작위로 선택하여 현재 동전 상태에 더한다.
  > 4. 새로운 동전 상태를 저장한다.
  > 5. 동전 상태 테이블을 갱신한다.
- 현재 코인을 합하여 보유 금액을 계산한다.
- 보유 금액 텍스트를 갱신한다.

**예외 상황**

> 예외 상황에 경우 alert를 통해 메세지를 전달한다.

- 금액을 입력하지 않은 경우
- 1단위의 금액을 입력했을 경우
- 0 또는 음수의 금액을 입력했을 경우

---

### 4) 상품 구매

**금액을 투입하여 `상품을 구매`하고, 최소한의 `동전을 반환`받는다.**

- 뷰에 들어갈 정보를 저장한다.
- 정보를 이용하여 HTML template을 작성한다.
- 로컬 저장소에 상품 리스트 데이터로 테이블을 작성한다.
- 해당 템플릿을 렌더링한다.
- `투입하기`버튼을 클릭하여 투입된 금액을 저장한다.
  > 1. 유효성 조건을 만족하는지 검사한다.
  > 2. 현재 투입한 금액에 더한다.
  > 3. 투입한 금액 텍스트를 갱신한다.
- `구매하기`버튼을 클릭하여 상품을 구매한다.
  > 1. 투입한 금액이 구매할 상품의 가격보다 높거나, 같은지 검사한다.
  > 2. 구매할 상품의 수량이 1이상인지 검사한다.
  > 3. 선택된 상품과 이름과 금액이 같은 상품의 수량을 1 뺀다.
  > 4. 현재 금액에 구매한 상품의 금액을 뺀다.
  > 5. 새로운 상품의 상태를 로컬 저장소에 저장한다.
  > 6. 테이블의 수량 요소들을 갱신한다.
- `반환하기`버튼을 클리하여 남은 금액을 반환한다.

  > 1. 로컬 저장소에 동전 리스트 데이터를 가져온다.
  > 2. 500, 100, 50, 10 순서로 남은 금액에서 차감한다. (만약, 남은 동전이 없거나, 남은 금액이 차감을 진행할 동전보다 작을 경우 중단한다.)
  > 3. 새로운 동전 리스트를 로컬 저장소에 저장한다.
  > 4. 반환할 동전 리스트로 테이블을 갱신한다.
  > 5. 투입된 금액을 0으로 갱신한다.

**예외 상황**

> 예외 상황에 경우 alert를 통해 메세지를 전달한다.

- 금액을 입력하지 않은 경우
- 1단위의 금액을 입력했을 경우
- 0 또는 음수의 금액을 입력했을 경우
- 투입한 금액보다 구매를 선택한 상품의 금액이 높은 경우
- 구매를 선택한 상품의 수량이 0일 경우
- 반환하는 동전이 부족할 경우
  => 무시하고 최대한 반환한다.
